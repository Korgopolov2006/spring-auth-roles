# üîß –§–∏–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

## ‚ùå **–ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:**

1. **–û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ Hibernate** - –ø—ã—Ç–∞–ª—Å—è –¥–æ–±–∞–≤–∏—Ç—å NOT NULL –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ NULL –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
2. **–û—à–∏–±–∫–∞ –≤ OrderRepository** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ `orderDate` –≤–º–µ—Å—Ç–æ `createdAt`
3. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** - –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏ –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏

## ‚úÖ **–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ:**

### **1. OrderRepository –∏—Å–ø—Ä–∞–≤–ª–µ–Ω:**
- –ó–∞–º–µ–Ω–∏–ª `findByOrderDateBetween` –Ω–∞ `findByCreatedAtBetween`
- –ó–∞–º–µ–Ω–∏–ª `findByUserOrderByOrderDateDesc` –Ω–∞ `findByUserOrderByCreatedAtDesc`
- –ó–∞–º–µ–Ω–∏–ª `findByUserAndOrderDateBetween` –Ω–∞ `findByUserAndCreatedAtBetween`

### **2. –û—Ç–∫–ª—é—á–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è:**
- –ò–∑–º–µ–Ω–∏–ª `ddl-auto: update` –Ω–∞ `ddl-auto: validate` –≤ `application.yml`

### **3. –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
- `fix_database_issues.sql` - –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π

## üöÄ **–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å:**

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**

```bash
# 1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
psql -U postgres -d YP4SpringAuthorizathion -f fix_database_issues.sql

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
.\mvnw.cmd spring-boot:run
```

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–ª–Ω–æ–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

```bash
# 1. –£–¥–∞–ª–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
psql -U postgres -c "DROP DATABASE IF EXISTS YP4SpringAuthorizathion;"

# 2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
psql -U postgres -c "CREATE DATABASE YP4SpringAuthorizathion;"

# 3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è
psql -U postgres -d YP4SpringAuthorizathion -f electronics_store_database.sql

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
.\mvnw.cmd spring-boot:run
```

## üîç **–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∫—Ä–∏–ø—Ç `fix_database_issues.sql`:**

### **1. –¢–∞–±–ª–∏—Ü–∞ `coupons`:**
- –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—è `discount_type`, `discount_value`, `name` –±–µ–∑ NOT NULL
- –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –î–µ–ª–∞–µ—Ç –ø–æ–ª—è NOT NULL –ø–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è

### **2. –¢–∞–±–ª–∏—Ü–∞ `product_specifications`:**
- –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—è `spec_name`, `spec_value` –±–µ–∑ NOT NULL
- –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –î–µ–ª–∞–µ—Ç –ø–æ–ª—è NOT NULL –ø–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è

### **3. –î—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã:**
- –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è –≤ `orders`, `order_items`, `product_reviews`, `cart_items`
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –°–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìã **–ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫:**

- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] OrderRepository –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- [ ] application.yml –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ validate
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏: http://localhost:8080/login (admin/admin)
- [ ] –í—Å–µ —Ä–∞–∑–¥–µ–ª—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

## üÜò **–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è:**

### **–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
# 1. –£–¥–∞–ª–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
psql -U postgres -c "DROP DATABASE IF EXISTS YP4SpringAuthorizathion;"

# 2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é
psql -U postgres -c "CREATE DATABASE YP4SpringAuthorizathion;"

# 3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
psql -U postgres -d YP4SpringAuthorizathion -f electronics_store_database.sql

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
.\mvnw.cmd spring-boot:run
```

## üéØ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
1. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫**
2. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞**
3. **–í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å**
4. **–í—ã–ø–∞–¥–∞—é—â–∏–µ –º–µ–Ω—é –¥–ª—è ID –ø–æ–ª–µ–π –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å**

---

**–¢–µ–ø–µ—Ä—å –≤—Å–µ –æ—à–∏–±–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!** üõ°Ô∏è‚ú®

