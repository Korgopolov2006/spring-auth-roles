# ОПИСАНИЕ ПРЕДМЕТНОЙ ОБЛАСТИ - МАГАЗИН ЭЛЕКТРОНИКИ "TECHSTORE"

## 1. ОБЩАЯ ХАРАКТЕРИСТИКА СИСТЕМЫ

**Название системы:** TechStore - Интернет-магазин электроники  
**Тип системы:** Веб-приложение электронной коммерции  
**Назначение:** Продажа электронных товаров через интернет с системой управления пользователями и ролями  

## 2. ФУНКЦИОНАЛЬНЫЕ ТРЕБОВАНИЯ

### 2.1. Управление пользователями и ролями
- **Регистрация пользователей** с валидацией данных
- **Авторизация** через логин/пароль
- **Система ролей:** ADMIN, MODERATOR, USER
- **Управление профилем** пользователя
- **Безопасность:** BCrypt шифрование паролей, сессии с таймаутом

### 2.2. Управление каталогом товаров
- **Категории товаров** с иерархической структурой
- **Производители** с полной информацией
- **Товары** с детальными характеристиками
- **Изображения товаров** (множественные)
- **Характеристики товаров** (технические параметры)
- **Поиск и фильтрация** по категориям, производителям, цене
- **Сортировка** по различным критериям

### 2.3. Система заказов
- **Корзина покупок** с возможностью изменения количества
- **Оформление заказов** с адресными данными
- **История заказов** для пользователей
- **Статусы заказов** (PENDING, PROCESSING, SHIPPED, DELIVERED, CANCELLED)
- **Управление заказами** для администраторов

### 2.4. Система отзывов и рейтингов
- **Отзывы о товарах** с рейтингом 1-5 звезд
- **Модерация отзывов** администраторами
- **Верификация покупок** для отзывов

### 2.5. Система скидок и купонов
- **Купоны** с процентными и фиксированными скидками
- **Условия применения** (минимальная сумма заказа)
- **Ограничения по использованию** (количество использований, срок действия)

### 2.6. Административные функции
- **Панель администратора** с полной статистикой
- **Управление товарами** (CRUD операции)
- **Управление категориями и производителями**
- **Управление пользователями**
- **Управление заказами** и их статусами
- **Модерация контента** (отзывы, товары)

### 2.7. Функции модератора
- **Управление товарами** (добавление, редактирование)
- **Модерация отзывов**
- **Просмотр статистики** по товарам

## 3. НЕФУНКЦИОНАЛЬНЫЕ ТРЕБОВАНИЯ

### 3.1. Производительность
- **Пагинация** для больших списков товаров
- **Индексы базы данных** для оптимизации запросов
- **Lazy loading** для связанных сущностей
- **Кэширование** статических данных

### 3.2. Безопасность
- **Аутентификация** через Spring Security
- **Авторизация** на основе ролей
- **Шифрование паролей** BCrypt
- **Защита от CSRF** атак
- **Валидация входных данных**

### 3.3. Масштабируемость
- **Модульная архитектура** Spring Boot
- **Разделение по слоям** (Controller, Service, Repository)
- **RESTful API** для будущих мобильных приложений

### 3.4. Удобство использования
- **Адаптивный дизайн** для всех устройств
- **Интуитивный интерфейс** с понятной навигацией
- **Быстрая загрузка** страниц
- **Обработка ошибок** с понятными сообщениями

## 4. АРХИТЕКТУРА СИСТЕМЫ

### 4.1. Технологический стек
- **Backend:** Spring Boot 2.5.4, Spring Security, Spring Data JPA
- **База данных:** PostgreSQL
- **Frontend:** Thymeleaf, HTML5, CSS3, JavaScript
- **Сборка:** Maven
- **Java:** JDK 17

### 4.2. Слои приложения
1. **Presentation Layer** - Controllers (Thymeleaf views)
2. **Business Layer** - Services (бизнес-логика)
3. **Data Access Layer** - Repositories (JPA/Hibernate)
4. **Database Layer** - PostgreSQL

### 4.3. Модель данных
- **12 основных таблиц** для полной функциональности магазина
- **Связи между сущностями** через внешние ключи
- **Индексы** для оптимизации производительности
- **Ограничения целостности** данных

## 5. РОЛИ И ПРАВА ДОСТУПА

### 5.1. ADMIN (Администратор)
- Полный доступ ко всем функциям системы
- Управление пользователями, товарами, заказами
- Просмотр статистики и аналитики
- Настройка системы

### 5.2. MODERATOR (Модератор)
- Управление товарами (добавление, редактирование)
- Модерация отзывов и контента
- Просмотр заказов (только просмотр)
- Управление категориями и производителями

### 5.3. USER (Пользователь)
- Просмотр каталога товаров
- Добавление товаров в корзину
- Оформление заказов
- Просмотр истории заказов
- Оставление отзывов
- Управление профилем

## 6. ОСНОВНЫЕ СУЩНОСТИ

### 6.1. Пользователи
- **ModelUser** - основная информация о пользователе
- **RoleEnum** - роли пользователей (ADMIN, MODERATOR, USER)

### 6.2. Каталог товаров
- **Category** - категории товаров с иерархией
- **Manufacturer** - производители товаров
- **Product** - товары с полными характеристиками
- **ProductImage** - изображения товаров
- **ProductSpecification** - технические характеристики

### 6.3. Заказы и покупки
- **Order** - заказы пользователей
- **OrderItem** - элементы заказа
- **CartItem** - товары в корзине

### 6.4. Дополнительные функции
- **ProductReview** - отзывы о товарах
- **Coupon** - купоны и скидки
- **UserActivityLog** - логирование действий пользователей
- **SystemSettings** - настройки системы

## 7. БИЗНЕС-ПРОЦЕССЫ

### 7.1. Процесс покупки
1. Пользователь просматривает каталог товаров
2. Выбирает товар и добавляет в корзину
3. Переходит к оформлению заказа
4. Заполняет адресные данные
5. Подтверждает заказ
6. Получает уведомление о создании заказа

### 7.2. Процесс управления товарами
1. Администратор/Модератор добавляет новый товар
2. Заполняет все необходимые характеристики
3. Загружает изображения товара
4. Активирует товар для продажи
5. Товар появляется в каталоге

### 7.3. Процесс модерации
1. Пользователь оставляет отзыв о товаре
2. Отзыв попадает в очередь на модерацию
3. Модератор проверяет отзыв
4. Одобряет или отклоняет отзыв
5. Одобренный отзыв публикуется

## 8. ИНТЕГРАЦИИ И РАСШИРЕНИЯ

### 8.1. Планируемые интеграции
- **Платежные системы** (Stripe, PayPal)
- **Системы доставки** (СДЭК, Почта России)
- **Email уведомления** (SendGrid, Mailgun)
- **Аналитика** (Google Analytics)

### 8.2. Возможности расширения
- **Мобильное приложение** (REST API готово)
- **Многоязычность** (i18n)
- **Мультивалютность**
- **Система лояльности**
- **Рекомендательная система**

## 9. КАЧЕСТВО И ТЕСТИРОВАНИЕ

### 9.1. Обеспечение качества
- **Валидация данных** на всех уровнях
- **Обработка исключений** с логированием
- **Тестирование** критических функций
- **Code review** и рефакторинг

### 9.2. Мониторинг
- **Логирование** всех операций
- **Метрики производительности**
- **Отслеживание ошибок**
- **Анализ использования**

## 10. ЗАКЛЮЧЕНИЕ

Система TechStore представляет собой полнофункциональный интернет-магазин электроники с современной архитектурой, системой ролей и всеми необходимыми функциями для ведения электронной коммерции. Приложение готово к развертыванию и использованию в продакшене с возможностью дальнейшего развития и масштабирования.
